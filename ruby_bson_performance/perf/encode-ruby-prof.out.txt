Thread ID: 70292789921500
Fiber ID: 70292789615540
Total: 14.823148
Sort by: self_time

 %self      total      self      wait     child     calls  name
 12.53      3.259     1.857     0.000     1.403   811819   BSON::String#to_bson_string 
 12.08      4.266     1.791     0.000     2.475   602230   BSON::String#to_bson_cstring 
  9.46      1.403     1.403     0.000     0.000   811819   BSON::String#to_utf8_binary 
  7.37      5.358     1.093     0.000     4.266   602230   BSON::String#to_bson_key 
  4.89     14.680     0.725     0.000    13.955    44150  *Hash#each 
  3.55      0.526     0.526     0.000     0.000   240396   BSON::Integer#bson_int32? 
  2.78      0.412     0.412     0.000     0.000   602230   BSON::String#check_for_illegal_characters! 
  2.58      0.383     0.383     0.000     0.000   596328   String#bytesize 
  2.58      3.474     0.382     0.000     3.092   209589   BSON::String#to_bson 
  2.45      0.778     0.364     0.000     0.414   120198   BSON::Integer#to_bson 
  1.71      0.253     0.253     0.000     0.000   209589   String#bson_type 
  1.54      0.560     0.228     0.000     0.332   120198   BSON::Integer#bson_type 
  1.32      0.195     0.195     0.000     0.000   298164   BSON::String#set_int32 
  0.99      0.147     0.147     0.000     0.000   120526   BSON::NilClass#to_bson 
  0.97      0.144     0.144     0.000     0.000   120526   NilClass#bson_type 
  0.72      0.107     0.107     0.000     0.000    89663   BSON::FalseClass#bson_type 
  0.61      0.133     0.091     0.000     0.043    27130   BSON::Integer#bson_int64? 
  0.52      0.077     0.077     0.000     0.000    89663   BSON::FalseClass#to_bson 
  0.51      0.076     0.076     0.000     0.000   106633   BSON::Integer#to_bson_int32 
  0.48     14.771     0.071     0.000    14.700   298164  *BSON::Encodable#encode_with_placeholder_and_null 
  0.41      1.990     0.060     0.000     1.930    44425  *BSON::Array#to_bson 
  0.36      0.054     0.054     0.000     0.000    44425   Array#bson_type 
  0.34      1.639     0.051     0.000     1.589    44425  *Enumerable#each_with_index 
  0.28      0.041     0.041     0.000     0.000    34149   Hash#bson_type 
  0.16     14.823     0.023     0.000    14.800    44426  *Array#each 
  0.15      0.022     0.022     0.000     0.000    18247   BSON::TrueClass#bson_type 
  0.15      0.022     0.022     0.000     0.000    27130   Bignum#<= 
  0.14      0.021     0.021     0.000     0.000    27130   Fixnum#<= 
  0.12     14.790     0.018     0.000    14.771    44150  *BSON::Hash#to_bson 
  0.11      0.016     0.016     0.000     0.000    18247   BSON::TrueClass#to_bson 
  0.07      0.011     0.011     0.000     0.000    13565   BSON::Integer#to_bson_int64 
  0.07      0.010     0.010     0.000     0.000    10001   String#force_encoding 
  0.01      0.001     0.001     0.000     0.000      996   Float#bson_type 
  0.01      0.001     0.001     0.000     0.000      996   BSON::Float#to_bson 
  0.00     14.823     0.000     0.000    14.823        1   BenchTest#ruby_prof 

* indicates recursively called methods
Thread ID: 70292789921500
Fiber ID: 70292789615540
Total Time: 14.823147999999975
Sort by: total_time

  %total   %self      total       self       wait      child            calls    Name
--------------------------------------------------------------------------------
 100.00%   0.00%     14.823      0.000      0.000     14.823                1      BenchTest#ruby_prof
                     14.823      0.023      0.000     14.800          1/44426      Array#each
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000      44425/44426      Enumerable#each_with_index
                     14.823      0.023      0.000     14.800          1/44426      BenchTest#ruby_prof
 100.00%   0.16%     14.823      0.023      0.000     14.800            44426     *Array#each
                     14.790      0.018      0.000     14.771      21371/44150      BSON::Hash#to_bson
                      0.132      0.066      0.000      0.066     22742/120198      BSON::Integer#to_bson
                      0.090      0.040      0.000      0.050     22742/120198      BSON::Integer#bson_type
                      0.014      0.014      0.000      0.000      11370/34149      Hash#bson_type
                      0.010      0.010      0.000      0.000      10001/10001      String#force_encoding
                      0.001      0.001      0.000      0.000          996/996      Float#bson_type
                      0.001      0.001      0.000      0.000          996/996      BSON::Float#to_bson
                      0.001      0.001      0.000      0.000        455/44425      Array#bson_type
                      0.000      0.000      0.000      0.000        455/44425      BSON::Array#to_bson
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000      22779/44150      Hash#each
                     14.790      0.018      0.000     14.771      21371/44150      Array#each
  99.77%   0.12%     14.790      0.018      0.000     14.771            44150     *BSON::Hash#to_bson
                     14.771      0.071      0.000     14.700     44150/298164      BSON::Encodable#encode_with_placeholder_and_null
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000     44425/298164      BSON::Array#to_bson
                      0.000      0.000      0.000      0.000    209589/298164      BSON::String#to_bson
                     14.771      0.071      0.000     14.700     44150/298164      BSON::Hash#to_bson
  99.65%   0.48%     14.771      0.071      0.000     14.700           298164     *BSON::Encodable#encode_with_placeholder_and_null
                     14.680      0.725      0.000     13.955      44150/44150      Hash#each
                      1.639      0.051      0.000      1.589      44425/44425      Enumerable#each_with_index
                      1.196      0.480      0.000      0.716    209589/811819      BSON::String#to_bson_string
                      0.383      0.383      0.000      0.000    596328/596328      String#bytesize
                      0.195      0.195      0.000      0.000    298164/298164      BSON::String#set_int32
--------------------------------------------------------------------------------
                     14.680      0.725      0.000     13.955      44150/44150      BSON::Encodable#encode_with_placeholder_and_null
  99.03%   4.89%     14.680      0.725      0.000     13.955            44150     *Hash#each
                      5.358      1.093      0.000      4.266    602230/602230      BSON::String#to_bson_key
                      3.474      0.382      0.000      3.092    209589/209589      BSON::String#to_bson
                      1.990      0.060      0.000      1.930      43970/44425      BSON::Array#to_bson
                      0.646      0.298      0.000      0.348     97456/120198      BSON::Integer#to_bson
                      0.471      0.188      0.000      0.283     97456/120198      BSON::Integer#bson_type
                      0.253      0.253      0.000      0.000    209589/209589      String#bson_type
                      0.147      0.147      0.000      0.000    120526/120526      BSON::NilClass#to_bson
                      0.144      0.144      0.000      0.000    120526/120526      NilClass#bson_type
                      0.107      0.107      0.000      0.000      89663/89663      BSON::FalseClass#bson_type
                      0.077      0.077      0.000      0.000      89663/89663      BSON::FalseClass#to_bson
                      0.053      0.053      0.000      0.000      43970/44425      Array#bson_type
                      0.028      0.028      0.000      0.000      22779/34149      Hash#bson_type
                      0.022      0.022      0.000      0.000      18247/18247      BSON::TrueClass#bson_type
                      0.016      0.016      0.000      0.000      18247/18247      BSON::TrueClass#to_bson
                      0.000      0.000      0.000      0.000      22779/44150      BSON::Hash#to_bson
--------------------------------------------------------------------------------
                      5.358      1.093      0.000      4.266    602230/602230      Hash#each
  36.15%   7.37%      5.358      1.093      0.000      4.266           602230      BSON::String#to_bson_key
                      4.266      1.791      0.000      2.475    602230/602230      BSON::String#to_bson_cstring
--------------------------------------------------------------------------------
                      4.266      1.791      0.000      2.475    602230/602230      BSON::String#to_bson_key
  28.78%  12.08%      4.266      1.791      0.000      2.475           602230      BSON::String#to_bson_cstring
                      2.063      1.377      0.000      0.687    602230/811819      BSON::String#to_bson_string
                      0.412      0.412      0.000      0.000    602230/602230      BSON::String#check_for_illegal_characters!
--------------------------------------------------------------------------------
                      3.474      0.382      0.000      3.092    209589/209589      Hash#each
  23.43%   2.58%      3.474      0.382      0.000      3.092           209589      BSON::String#to_bson
                      0.000      0.000      0.000      0.000    209589/298164      BSON::Encodable#encode_with_placeholder_and_null
--------------------------------------------------------------------------------
                      1.196      0.480      0.000      0.716    209589/811819      BSON::Encodable#encode_with_placeholder_and_null
                      2.063      1.377      0.000      0.687    602230/811819      BSON::String#to_bson_cstring
  21.99%  12.53%      3.259      1.857      0.000      1.403           811819      BSON::String#to_bson_string
                      1.403      1.403      0.000      0.000    811819/811819      BSON::String#to_utf8_binary
--------------------------------------------------------------------------------
                      0.000      0.000      0.000      0.000        455/44425      Array#each
                      1.990      0.060      0.000      1.930      43970/44425      Hash#each
  13.43%   0.41%      1.990      0.060      0.000      1.930            44425     *BSON::Array#to_bson
                      0.000      0.000      0.000      0.000     44425/298164      BSON::Encodable#encode_with_placeholder_and_null
--------------------------------------------------------------------------------
                      1.639      0.051      0.000      1.589      44425/44425      BSON::Encodable#encode_with_placeholder_and_null
  11.06%   0.34%      1.639      0.051      0.000      1.589            44425     *Enumerable#each_with_index
                      0.000      0.000      0.000      0.000      44425/44426      Array#each
--------------------------------------------------------------------------------
                      1.403      1.403      0.000      0.000    811819/811819      BSON::String#to_bson_string
   9.46%   9.46%      1.403      1.403      0.000      0.000           811819      BSON::String#to_utf8_binary
--------------------------------------------------------------------------------
                      0.132      0.066      0.000      0.066     22742/120198      Array#each
                      0.646      0.298      0.000      0.348     97456/120198      Hash#each
   5.25%   2.45%      0.778      0.364      0.000      0.414           120198      BSON::Integer#to_bson
                      0.262      0.262      0.000      0.000    120198/240396      BSON::Integer#bson_int32?
                      0.076      0.076      0.000      0.000    106633/106633      BSON::Integer#to_bson_int32
                      0.065      0.045      0.000      0.020      13565/27130      BSON::Integer#bson_int64?
                      0.011      0.011      0.000      0.000      13565/13565      BSON::Integer#to_bson_int64
--------------------------------------------------------------------------------
                      0.090      0.040      0.000      0.050     22742/120198      Array#each
                      0.471      0.188      0.000      0.283     97456/120198      Hash#each
   3.78%   1.54%      0.560      0.228      0.000      0.332           120198      BSON::Integer#bson_type
                      0.264      0.264      0.000      0.000    120198/240396      BSON::Integer#bson_int32?
                      0.068      0.045      0.000      0.023      13565/27130      BSON::Integer#bson_int64?
--------------------------------------------------------------------------------
                      0.262      0.262      0.000      0.000    120198/240396      BSON::Integer#to_bson
                      0.264      0.264      0.000      0.000    120198/240396      BSON::Integer#bson_type
   3.55%   3.55%      0.526      0.526      0.000      0.000           240396      BSON::Integer#bson_int32?
--------------------------------------------------------------------------------
                      0.412      0.412      0.000      0.000    602230/602230      BSON::String#to_bson_cstring
   2.78%   2.78%      0.412      0.412      0.000      0.000           602230      BSON::String#check_for_illegal_characters!
--------------------------------------------------------------------------------
                      0.383      0.383      0.000      0.000    596328/596328      BSON::Encodable#encode_with_placeholder_and_null
   2.58%   2.58%      0.383      0.383      0.000      0.000           596328      String#bytesize
--------------------------------------------------------------------------------
                      0.253      0.253      0.000      0.000    209589/209589      Hash#each
   1.71%   1.71%      0.253      0.253      0.000      0.000           209589      String#bson_type
--------------------------------------------------------------------------------
                      0.195      0.195      0.000      0.000    298164/298164      BSON::Encodable#encode_with_placeholder_and_null
   1.32%   1.32%      0.195      0.195      0.000      0.000           298164      BSON::String#set_int32
--------------------------------------------------------------------------------
                      0.147      0.147      0.000      0.000    120526/120526      Hash#each
   0.99%   0.99%      0.147      0.147      0.000      0.000           120526      BSON::NilClass#to_bson
--------------------------------------------------------------------------------
                      0.144      0.144      0.000      0.000    120526/120526      Hash#each
   0.97%   0.97%      0.144      0.144      0.000      0.000           120526      NilClass#bson_type
--------------------------------------------------------------------------------
                      0.065      0.045      0.000      0.020      13565/27130      BSON::Integer#to_bson
                      0.068      0.045      0.000      0.023      13565/27130      BSON::Integer#bson_type
   0.90%   0.61%      0.133      0.091      0.000      0.043            27130      BSON::Integer#bson_int64?
                      0.022      0.022      0.000      0.000      27130/27130      Bignum#<=
                      0.021      0.021      0.000      0.000      27130/27130      Fixnum#<=
--------------------------------------------------------------------------------
                      0.107      0.107      0.000      0.000      89663/89663      Hash#each
   0.72%   0.72%      0.107      0.107      0.000      0.000            89663      BSON::FalseClass#bson_type
--------------------------------------------------------------------------------
                      0.077      0.077      0.000      0.000      89663/89663      Hash#each
   0.52%   0.52%      0.077      0.077      0.000      0.000            89663      BSON::FalseClass#to_bson
--------------------------------------------------------------------------------
                      0.076      0.076      0.000      0.000    106633/106633      BSON::Integer#to_bson
   0.51%   0.51%      0.076      0.076      0.000      0.000           106633      BSON::Integer#to_bson_int32
--------------------------------------------------------------------------------
                      0.001      0.001      0.000      0.000        455/44425      Array#each
                      0.053      0.053      0.000      0.000      43970/44425      Hash#each
   0.36%   0.36%      0.054      0.054      0.000      0.000            44425      Array#bson_type
--------------------------------------------------------------------------------
                      0.014      0.014      0.000      0.000      11370/34149      Array#each
                      0.028      0.028      0.000      0.000      22779/34149      Hash#each
   0.28%   0.28%      0.041      0.041      0.000      0.000            34149      Hash#bson_type
--------------------------------------------------------------------------------
                      0.022      0.022      0.000      0.000      18247/18247      Hash#each
   0.15%   0.15%      0.022      0.022      0.000      0.000            18247      BSON::TrueClass#bson_type
--------------------------------------------------------------------------------
                      0.022      0.022      0.000      0.000      27130/27130      BSON::Integer#bson_int64?
   0.15%   0.15%      0.022      0.022      0.000      0.000            27130      Bignum#<=
--------------------------------------------------------------------------------
                      0.021      0.021      0.000      0.000      27130/27130      BSON::Integer#bson_int64?
   0.14%   0.14%      0.021      0.021      0.000      0.000            27130      Fixnum#<=
--------------------------------------------------------------------------------
                      0.016      0.016      0.000      0.000      18247/18247      Hash#each
   0.11%   0.11%      0.016      0.016      0.000      0.000            18247      BSON::TrueClass#to_bson
--------------------------------------------------------------------------------
                      0.011      0.011      0.000      0.000      13565/13565      BSON::Integer#to_bson
   0.07%   0.07%      0.011      0.011      0.000      0.000            13565      BSON::Integer#to_bson_int64
--------------------------------------------------------------------------------
                      0.010      0.010      0.000      0.000      10001/10001      Array#each
   0.07%   0.07%      0.010      0.010      0.000      0.000            10001      String#force_encoding
--------------------------------------------------------------------------------
                      0.001      0.001      0.000      0.000          996/996      Array#each
   0.01%   0.01%      0.001      0.001      0.000      0.000              996      Float#bson_type
--------------------------------------------------------------------------------
                      0.001      0.001      0.000      0.000          996/996      Array#each
   0.01%   0.01%      0.001      0.001      0.000      0.000              996      BSON::Float#to_bson

* indicates recursively called methods
